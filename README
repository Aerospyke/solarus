This file explains how to compile Zelda Solarus Deluxe.
Only the developing team has to compile the project. To preserve the secrets of the game, the source code is not public.
The users download directly a compiled binary for Windows or Linux.

-----------------
Required packages
-----------------

The following libraries are required to make ZSDX work:

SDL
SDLmain
SDL_image
fmod-3.75

There exists SDL packages for Ubuntu:

libsdl1.2-dev
libsdl-image1.2-dev

But there is no FMOD package for Ubuntu. So you have to install the library manually:
- Download the FMOD archive: http://www.fmod.org/index.php/release/version/fmodapi375linux.tar.gz
- Create a directory for the FMOD .h files: /usr/include/fmod
- Copy into this directory every .h file from the subdirectory api/inc of the FMOD archive
- Copy api/libfmod-3.75.so into /usr/lib
- Make a symbolic link: sudo ln -s /usr/lib/libfmod-3.75.so /usr/lib/libfmod.so

The following sequence of commands installs FMOD as explained above:

wget http://www.fmod.org/index.php/release/version/fmodapi375linux.tar.gz
tar xvzf fmodapi375linux.tar.gz
cd fmodapi375linux
sudo mkdir /usr/include/fmod
sudo cp api/inc/*.h /usr/include/fmod
sudo cp api/libfmod-3.75.so /usr/lib
sudo ln -s /usr/lib/libfmod-3.75.so /usr/lib/libfmod.so
cd ..
rm -rf fmodapi375linux
rm fmodapi375linux.tar.gz


------------------------
Compilation instructions
------------------------

To compile and install ZSDX, just use the standard Unix procedure:

$ ./configure
$ make
# make install

Of course you need gcc and make.
This will install the zsdx binary in a default directory such as /usr/local/bin. So you must be root to run the last command. Then you can launch the game with the simple command:

$ zsdx

You can instead install the binary in another directory, so that no root access is necessary. You can specify this directory as a parameter of configure like this:

$ ./configure --prefix=/home/your_directory
$ make
$ make install

This will install the zsdx binary in /home/your_directory/bin. Then you can launch the game with:

$ /home/your_directory/bin/zsdx

or just with:

$ zsdx

if /home/your_directory/bin is in your PATH.


------------------
Windows developers
------------------

If you want to compile the application under Windows, the same procedure works in an Unix environment such as MinGW or Cygwin. But you have to install the Windows version of SDL and FMOD, which is a little more complicated. A zsdx.exe file is generated.
