This file explains how to compile Zelda Solarus Deluxe.
Only the developing team has to compile the project. To preserve the secrets of the game, the source code is not public.
The users download directly a compiled binary for Windows or Linux.

-----------------
Required packages
-----------------

The following libraries are required to make ZSDX work:

SDL
SDLmain
SDL_image
SDL_ttf
fmodex

There exists SDL packages for Ubuntu:

libsdl1.2-dev
libsdl-image1.2-dev
libsdl-ttf2.0-dev

But there is no FMOD package for Ubuntu. So you have to install the library manually:
- Download the latest FMOD Ex release on http://www.fmod.org/index.php/download
- Uncompress the archive
- Install the FMOD Ex librairies and headers with 'make install'

The following sequence of commands installs FMOD as explained above:

wget http://www.fmod.org/index.php/release/version/fmodapi41304linux.tar.gz
tar xvzf fmodapi41304linux.tar.gz
cd fmodapi41304linux
sudo make install
cd ..
rm -rf fmodapi41304linux
rm fmodapi41304linux.tar.gz


------------------------
Compilation instructions
------------------------

To compile and install ZSDX, just use the standard Unix procedure:

$ ./configure
$ make
# make install

Of course you need gcc and make.
This will install the zsdx binary in a default directory such as /usr/local/bin. So you must be root to run the last command. Then you can launch the game with the simple command:

$ zsdx

You can instead install the binary in another directory, so that no root access is necessary. You can specify this directory as a parameter of configure like this:

$ ./configure --prefix=/home/your_directory
$ make
$ make install

This will install the zsdx binary in /home/your_directory/bin. Then you can launch the game with:

$ /home/your_directory/bin/zsdx

or just with:

$ zsdx

if /home/your_directory/bin is in your PATH.


------------------
Windows developers
------------------

If you want to compile the application under Windows, the same procedure works in an Unix environment such as MinGW or Cygwin. But you have to install the Windows version of SDL and FMOD, which is a little more complicated. A zsdx.exe file is generated.

------------------
Mac OS developers
------------------

The same procedure should work.
Notes à traduire / prendre en compte :
- Si SDL et SDL_image sont installés avec fink, un export CPPFLAGS="-I/sw/include -L/sw/lib" est nécessaire avant de lancer le configure
- utiliser sdl-config
- lien statique avec /usr/lib/libfmod.a
- option de compilation à l'édition de liens : -framework Carbon
